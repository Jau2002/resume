---
import GitHub from '@/assets/icons/GitHub.svg'
import Wrapper from '@/containers/Wrapper.astro'
import { projects } from '@/static/resume-es.json'
import { Image } from 'astro:assets'
---

<Wrapper title="Proyectos">
	<ul>
		{
			projects.map(
				({ url, description, highlights, name, github, isActive }) => (
					<li>
						<article>
							<header>
								<h4>
									<a href={url} title={`ver proyeto ${name}`} target="_blank">
										{name}
									</a>
									{isActive && <span>&bull;</span>}
									{github && (
										<a
											href={github}
											target="_blank"
											rel="noopener noreferrer"
											class="no-print"
										>
											<Image
												src={GitHub}
												alt={`ver mÃ¡s proyeto ${name} en Github`}
												width="20"
												height="20"
											/>
										</a>
									)}
								</h4>
								<p>{description}</p>
							</header>
							<footer>
								{highlights.map((highlight: string) => (
									<span>{highlight}</span>
								))}
							</footer>
						</article>
					</li>
				)
			)
		}
	</ul>
</Wrapper>

<style>
	ul {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
		gap: 1rem;
		margin-inline: -16px;
	}

	article {
		border-radius: 8px;
		border: 1px solid #f2f2f2;
		gap: 16px;
		display: flex;
		flex-direction: column;
		padding: 16px;
		height: 100%;
	}

	article header {
		flex: 1;
	}

	article h3 {
		margin-bottom: 4px;
	}

	article a {
		color: #111;
	}

	article a:hover {
		text-decoration: underline;
	}

	article p {
		font-size: 0.75rem;
		line-height: 1.2rem;
		margin-bottom: 4px;
	}

	article h3 span {
		color: #00ef81;
	}

	footer {
		display: flex;
		flex-wrap: wrap;
		gap: 4px;
		font-size: 0.6rem;
	}

	footer span {
		border-radius: 6px;
		background: #eee;
		color: #444;
		font-size: 0.6rem;
		font-weight: 500;
		padding: 0.2rem 0.6rem;
	}

	img {
		margin-left: 0.5rem;
	}

	@media (width <= 700px) {
		ul {
			margin-inline: 0px;
		}

		article {
			border: none;
			box-shadow: 0 1px 1px #f2f2f2;
			padding: 0 0 1rem 0;
		}
	}
</style>
